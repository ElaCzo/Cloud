{"ast":null,"code":"import _classCallCheck from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import logo from\"./logo.svg\";import'./App.css';function fireb(){// Your web app's Firebase configuration\nvar txtRech=document.getElementById('rechercher');var db=firebase.firestore();var livresListe=document.querySelector('#livre-list');function renderLivre(doc){var li=document.createElement('li');var titre=document.createElement('span');li.setAttribute('data-id',doc.id);titre.textContent=doc.data().titre;li.appendChild(titre);livresListe.appendChild(li);}db.collection('livres').get().then(function(snapshot){return snapshot.docs.forEach(function(doc){renderLivre(doc);//console.log(doc.data())\n});});};// js\nvar Livres=function Livres(props){if(props.display)return;else return props.livres.map(function(e){React.createElement(\"div\",null,\"e.name\");});};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));var firebaseConfig={apiKey:\"AIzaSyB-OG_3lnqcdChpwD42uKvYWMHGZWlc4Ow\",authDomain:\"daar-a1ea7.firebaseapp.com\",databaseURL:\"https://daar-a1ea7.firebaseio.com\",projectId:\"daar-a1ea7\",storageBucket:\"daar-a1ea7.appspot.com\",messagingSenderId:\"653755445186\",appId:\"1:653755445186:web:be24541935e8161d02b05b\",measurementId:\"G-BGZWWNYW0E\"};// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);firebase.analytics();_this.state={firebaseConfig:firebaseConfig,db:firebase.firestore(),livresRef:db.collection('livres'),value:\"\",display:false};return _this;}_createClass(App,[{key:\"queryCustom\",value:function queryCustom(event){var livrestmp=livresRef.where(\"title\",\"==\",event.target.value);this.setState({livresRef:livrestmp});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"Biblioth\\xE8que en ligne\"),React.createElement(\"form\",{role:\"search\",onSubmit:function onSubmit(){_this2.handleSubmit;}},React.createElement(\"input\",{type:\"text\",title:\"Recherche par mots-cl\\xE9s\",value:this.state.value,id:\"rechercher\",onChange:function onChange(){_this2.queryCustom;}})),React.createElement(Livres,{livres:this.state}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/ela/DAARCLOUD/cloud-fb-react/src/App.js"],"names":["React","fireb","txtRech","document","getElementById","db","firebase","firestore","livresListe","querySelector","renderLivre","doc","li","createElement","titre","setAttribute","id","textContent","data","appendChild","collection","get","then","snapshot","docs","forEach","Livres","props","display","livres","map","e","App","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","analytics","state","livresRef","value","event","livrestmp","where","target","setState","preventDefault","handleSubmit","queryCustom","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction fireb() {\n  // Your web app's Firebase configuration\n\n  const txtRech = document.getElementById('rechercher');\n\n  const db = firebase.firestore();\n\n  const livresListe = document.querySelector('#livre-list');\n\n  function renderLivre(doc) {\n    let li = document.createElement('li');\n    let titre = document.createElement('span');\n\n    li.setAttribute('data-id', doc.id)\n    titre.textContent = doc.data().titre;\n\n    li.appendChild(titre);\n    livresListe.appendChild(li)\n  }\n\n  db.collection('livres').get().then((snapshot) =>\n    snapshot.docs.forEach(doc => {\n      renderLivre(doc);\n      //console.log(doc.data())\n    })\n  )\n}; // js\n\nconst Livres = (props) => {\n  if(props.display)\n    return ;\n  \n  else \n    return props.livres.map((e) => { <div>e.name</div> });\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    var firebaseConfig = {\n      apiKey: \"AIzaSyB-OG_3lnqcdChpwD42uKvYWMHGZWlc4Ow\",\n      authDomain: \"daar-a1ea7.firebaseapp.com\",\n      databaseURL: \"https://daar-a1ea7.firebaseio.com\",\n      projectId: \"daar-a1ea7\",\n      storageBucket: \"daar-a1ea7.appspot.com\",\n      messagingSenderId: \"653755445186\",\n      appId: \"1:653755445186:web:be24541935e8161d02b05b\",\n      measurementId: \"G-BGZWWNYW0E\"\n    };\n    // Initialize Firebase\n    firebase.initializeApp(firebaseConfig);\n    firebase.analytics();\n\n    this.state = {\n      firebaseConfig: firebaseConfig,\n      db: firebase.firestore(),\n      livresRef: db.collection('livres'), \n      value: \"\", \n      display: false\n    };\n  }\n\n  queryCustom (event) {\n    var livrestmp = livresRef.where(\"title\", \"==\", event.target.value);\n    this.setState({livresRef: livrestmp});\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Bibliothèque en ligne</h1>\n        <form role=\"search\" onSubmit={()=>{this.handleSubmit}}>\n          <input type=\"text\" title=\"Recherche par mots-clés\" value={this.state.value} id=\"rechercher\" onChange={()=>{this.queryCustom}} />\n        </form>\n        <Livres livres={this.state}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}