{"ast":null,"code":"import _classCallCheck from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ela/DAARCLOUD/cloud-fb-react/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import logo from\"./logo.svg\";import'./App.css';import*as firebase from\"firebase/app\";// Add the Firebase services that you want to use\nimport\"firebase/firestore\";var Livres=function Livres(props){if(props.value!==\"\")//return <div></div>;\nconsole.log(\"rien\");else props.livresRef.get().then(function(querySnapshot){querySnapshot.forEach(function(doc){console.log(doc.data());});});return null;};var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);function App(){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this));var firebaseConfig={apiKey:\"AIzaSyB-OG_3lnqcdChpwD42uKvYWMHGZWlc4Ow\",authDomain:\"daar-a1ea7.firebaseapp.com\",databaseURL:\"https://daar-a1ea7.firebaseio.com\",projectId:\"daar-a1ea7\",storageBucket:\"daar-a1ea7.appspot.com\",messagingSenderId:\"653755445186\",appId:\"1:653755445186:web:be24541935e8161d02b05b\",measurementId:\"G-BGZWWNYW0E\"};// Initialize Firebase\ntry{firebase.initializeApp(firebaseConfig);firebase.analytics();}catch(e){}_this.state={firebaseConfig:firebaseConfig,db:firebase.firestore(),livresRef:firebase.firestore().collection('livres'),value:\"\"};return _this;}_createClass(App,[{key:\"queryCustom\",value:function queryCustom(event){this.setState({value:event.target.value});console.log(\"ds query\");var livrestmp=this.state.livresRef.where(\"title\",\"==\",event.target.value);this.setState({livresRef:livrestmp});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",{className:\"App\"},React.createElement(\"h1\",null,\"Biblioth\\xE8que en ligne\"),React.createElement(\"form\",{role:\"search\",onSubmit:function onSubmit(){return _this2.handleSubmit;}},React.createElement(\"input\",{type:\"text\",title:\"Recherche par mots-cl\\xE9s\",value:this.state.value,id:\"rechercher\",onChange:function onChange(){return _this2.queryCustom;}})),React.createElement(Livres,{livres:this.state}));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/home/ela/DAARCLOUD/cloud-fb-react/src/App.js"],"names":["React","firebase","Livres","props","value","console","log","livresRef","get","then","querySnapshot","forEach","doc","data","App","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","analytics","e","state","db","firestore","collection","event","setState","target","livrestmp","where","preventDefault","handleSubmit","queryCustom","Component"],"mappings":"ulBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,6BAEA,MAAO,WAAP,CACA,MAAO,GAAKC,CAAAA,QAAZ,KAA0B,cAA1B,CAEA;AACA,MAAO,oBAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACxB,GAAGA,KAAK,CAACC,KAAN,GAAc,EAAjB,CACE;AACAC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAFF,IAKEH,CAAAA,KAAK,CAACI,SAAN,CAAgBC,GAAhB,GAAsBC,IAAtB,CACE,SAACC,aAAD,CAAmB,CACjBA,aAAa,CAACC,OAAd,CACE,SAACC,GAAD,CAAS,CAACP,OAAO,CAACC,GAAR,CAAYM,GAAG,CAACC,IAAJ,EAAZ,EAAyB,CADrC,EAGD,CALH,EAQA,MAAO,KAAP,CACH,CAfD,C,GAiBMC,CAAAA,G,yEACJ,cAAc,qCACZ,uEAEA,GAAIC,CAAAA,cAAc,CAAG,CACnBC,MAAM,CAAE,yCADW,CAEnBC,UAAU,CAAE,4BAFO,CAGnBC,WAAW,CAAE,mCAHM,CAInBC,SAAS,CAAE,YAJQ,CAKnBC,aAAa,CAAE,wBALI,CAMnBC,iBAAiB,CAAE,cANA,CAOnBC,KAAK,CAAE,2CAPY,CAQnBC,aAAa,CAAE,cARI,CAArB,CAUA;AACA,GAAG,CACDtB,QAAQ,CAACuB,aAAT,CAAuBT,cAAvB,EACAd,QAAQ,CAACwB,SAAT,GACD,OAAMC,CAAN,CAAQ,CAAE,CAEX,MAAKC,KAAL,CAAa,CACXZ,cAAc,CAAEA,cADL,CAEXa,EAAE,CAAE3B,QAAQ,CAAC4B,SAAT,EAFO,CAGXtB,SAAS,CAAEN,QAAQ,CAAC4B,SAAT,GAAqBC,UAArB,CAAgC,QAAhC,CAHA,CAIX1B,KAAK,CAAE,EAJI,CAAb,CAnBY,aAyBb,C,gEAEY2B,K,CAAO,CAClB,KAAKC,QAAL,CAAc,CAAC5B,KAAK,CAAE2B,KAAK,CAACE,MAAN,CAAa7B,KAArB,CAAd,EACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,EACA,GAAI4B,CAAAA,SAAS,CAAG,KAAKP,KAAL,CAAWpB,SAAX,CAAqB4B,KAArB,CAA2B,OAA3B,CAAoC,IAApC,CAA0CJ,KAAK,CAACE,MAAN,CAAa7B,KAAvD,CAAhB,CACA,KAAK4B,QAAL,CAAc,CAACzB,SAAS,CAAE2B,SAAZ,CAAd,EACD,C,kDAEaH,K,CAAO,CACnBA,KAAK,CAACK,cAAN,GACD,C,uCAEQ,iBACP,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,yDADF,CAEE,4BAAM,IAAI,CAAC,QAAX,CAAoB,QAAQ,CAAE,0BAAI,CAAA,MAAI,CAACC,YAAT,EAA9B,EACE,6BAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAC,4BAAzB,CAAmD,KAAK,CAAE,KAAKV,KAAL,CAAWvB,KAArE,CAA4E,EAAE,CAAC,YAA/E,CAA4F,QAAQ,CAAE,0BAAI,CAAA,MAAI,CAACkC,WAAT,EAAtG,EADF,CAFF,CAKE,oBAAC,MAAD,EAAQ,MAAM,CAAE,KAAKX,KAArB,EALF,CADF,CASD,C,iBAjDe3B,KAAK,CAACuC,S,EAoDxB,cAAezB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport * as firebase from \"firebase/app\";\n\n// Add the Firebase services that you want to use\nimport \"firebase/firestore\";\n\nconst Livres = (props) => {\n  if(props.value!==\"\")\n    //return <div></div>;\n    console.log(\"rien\");\n  \n  else \n    props.livresRef.get().then(\n      (querySnapshot) => {\n        querySnapshot.forEach(\n          (doc) => {console.log(doc.data());}\n        );\n      }\n    );\n\n    return null;\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    var firebaseConfig = {\n      apiKey: \"AIzaSyB-OG_3lnqcdChpwD42uKvYWMHGZWlc4Ow\",\n      authDomain: \"daar-a1ea7.firebaseapp.com\",\n      databaseURL: \"https://daar-a1ea7.firebaseio.com\",\n      projectId: \"daar-a1ea7\",\n      storageBucket: \"daar-a1ea7.appspot.com\",\n      messagingSenderId: \"653755445186\",\n      appId: \"1:653755445186:web:be24541935e8161d02b05b\",\n      measurementId: \"G-BGZWWNYW0E\"\n    };\n    // Initialize Firebase\n    try{\n      firebase.initializeApp(firebaseConfig);\n      firebase.analytics();\n    }catch(e){}\n\n    this.state = {\n      firebaseConfig: firebaseConfig,\n      db: firebase.firestore(),\n      livresRef: firebase.firestore().collection('livres'), \n      value: \"\"\n    };\n  }\n\n  queryCustom (event) {\n    this.setState({value: event.target.value});\n    console.log(\"ds query\");\n    var livrestmp = this.state.livresRef.where(\"title\", \"==\", event.target.value);\n    this.setState({livresRef: livrestmp});\n  }\n\n  handleSubmit (event) {\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Bibliothèque en ligne</h1>\n        <form role=\"search\" onSubmit={()=>this.handleSubmit}>\n          <input type=\"text\" title=\"Recherche par mots-clés\" value={this.state.value} id=\"rechercher\" onChange={()=>this.queryCustom} />\n        </form>\n        <Livres livres={this.state}/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}